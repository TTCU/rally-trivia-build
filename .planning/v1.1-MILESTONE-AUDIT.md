---
milestone: v1.1
audited: 2026-02-23
status: gaps_found
scores:
  requirements: 4/8
  phases: 2/4
  integration: 4/4
  flows: 1/1
gaps:
  requirements:
    - id: "ANLX-01"
      status: "unsatisfied"
      phase: "Phase 6"
      claimed_by_plans: []
      completed_by_plans: []
      verification_status: "orphaned"
      evidence: "No analytics beacon script found in any page file or layout component. Phase 6 has not been planned or executed."
    - id: "ANLX-02"
      status: "unsatisfied"
      phase: "Phase 6"
      claimed_by_plans: []
      completed_by_plans: []
      verification_status: "orphaned"
      evidence: "Depends on ANLX-01. No pageview data can be collected without the beacon. Phase 6 unexecuted."
    - id: "TEAM-01"
      status: "unsatisfied"
      phase: "Phase 7"
      claimed_by_plans: []
      completed_by_plans: []
      verification_status: "orphaned"
      evidence: "src/pages/about.astro contains placeholder team member names ([Founder Name], [Team Member]). Phase 7 not planned or executed."
    - id: "TEAM-02"
      status: "unsatisfied"
      phase: "Phase 7"
      claimed_by_plans: []
      completed_by_plans: []
      verification_status: "orphaned"
      evidence: "src/pages/about.astro uses placeholder SVG silhouette icons instead of real photos. Phase 7 not planned or executed."
  integration:
    - from: "src/worker/index.ts"
      to: "production deployment"
      issue: "TURNSTILE_SECRET_KEY and RECIPIENT_EMAIL require manual wrangler secret put — deployment dependency gap (not a code break)"
    - from: "src/worker/index.ts"
      to: "CORS headers"
      issue: "Access-Control-Allow-Origin hardcoded to localhost:4321 — latent risk if Worker deployed separately, not a current break under same-origin production model"
  flows: []
tech_debt:
  - phase: 04-worker-foundation
    items:
      - "CORS headers deferred — hardcoded localhost value in Worker"
      - "No wrangler.jsonc documentation of required production secrets"
      - "No VERIFICATION.md — phase verifier was disabled in config"
      - "Worker tsconfig uses relative path in types field (works but non-standard)"
  - phase: 05-form-backend
    items:
      - "Turnstile test keys in .dev.vars need replacement for production"
      - "PUBLIC_TURNSTILE_SITE_KEY in .env uses test key — must update for production deployment"
      - "No VERIFICATION.md — phase verifier was disabled in config"
---

# Milestone v1.1 Audit: Production Polish

**Audited:** 2026-02-23
**Status:** gaps_found
**Score:** 4/8 requirements satisfied

## Requirements Coverage

### 3-Source Cross-Reference

| REQ-ID | Description | VERIFICATION.md | SUMMARY Frontmatter | REQUIREMENTS.md | Final Status |
|--------|-------------|-----------------|---------------------|-----------------|--------------|
| FORM-01 | Form submissions delivered via email | missing | 05-01 ✓ | [x] | partial |
| FORM-02 | Worker handles POST /api/contact | missing | 04-01 ✓ | [x] | partial |
| FORM-03 | Form UI loading/success/error states | missing | 05-01 ✓ | [x] | partial |
| FORM-04 | Resend API key stored as Wrangler secret | missing | 04-02 ✓ | [x] | partial |
| ANLX-01 | All pages include analytics beacon | missing | missing | [ ] | **unsatisfied** |
| ANLX-02 | Pageviews visible in dashboard | missing | missing | [ ] | **unsatisfied** |
| TEAM-01 | Real team member names and titles | missing | missing | [ ] | **unsatisfied** |
| TEAM-02 | Real team member photos | missing | missing | [ ] | **unsatisfied** |

### Satisfied (claimed by SUMMARYs, no formal verification)

- **FORM-01** (Phase 5): Resend SDK sends email to `RECIPIENT_EMAIL` on form submission
- **FORM-02** (Phase 4): Worker handles POST `/api/contact` with full Resend email sending
- **FORM-03** (Phase 5): Loading spinner, error banner with preserved inputs, thank-you animation on success
- **FORM-04** (Phase 4): `RESEND_API_KEY` stored via `wrangler secret put`, never in source

Note: FORM-* requirements are marked "partial" because no VERIFICATION.md exists (verifier disabled). SUMMARY frontmatter and REQUIREMENTS.md checkboxes confirm completion. Integration checker verified the E2E flow is fully wired.

### Unsatisfied (phases not executed)

- **ANLX-01** (Phase 6): No analytics beacon script found anywhere in codebase
- **ANLX-02** (Phase 6): Depends on ANLX-01 — no data collection possible
- **TEAM-01** (Phase 7): About page has placeholder names: `[Founder Name]`, `[Team Member]`
- **TEAM-02** (Phase 7): About page uses SVG silhouette icons, no real photos

## Phase Status

| Phase | Name | Plans | Status | Requirements |
|-------|------|-------|--------|-------------|
| 4 | Worker Foundation | 2/2 | ✓ Complete | FORM-02, FORM-04 |
| 5 | Form Backend | 1/1 | ✓ Complete | FORM-01, FORM-03 |
| 6 | Analytics | 0/? | ✗ Not started | ANLX-01, ANLX-02 |
| 7 | Content Polish | 0/? | ✗ Not started | TEAM-01, TEAM-02 |

## Integration Check

### E2E Flow: Contact Form Submission — COMPLETE

| Step | Component | Status |
|------|-----------|--------|
| User navigates to /contact | `src/pages/contact.astro` | ✓ |
| Turnstile widget renders | `ContactForm.astro` | ✓ |
| Form validates and submits | `ContactForm.astro` fetch POST | ✓ |
| Worker receives request | `src/worker/index.ts` | ✓ |
| Turnstile token verified | `verifyTurnstile()` | ✓ |
| Email sent via Resend | `resend.emails.send()` | ✓ |
| Success response → thank-you | `ContactForm.astro` | ✓ |
| Error response → retry UX | `ContactForm.astro` | ✓ |

All 8 steps wire correctly across phases 4→5. Form-to-email pipeline is fully functional.

### Integration Findings

1. **Deployment secrets gap:** `TURNSTILE_SECRET_KEY` and `RECIPIENT_EMAIL` must be set via `wrangler secret put` before production. Not a code break — deployment checklist dependency.
2. **CORS hardcoded to localhost:** `Access-Control-Allow-Origin: http://localhost:4321` in Worker. Not a production break (same-origin deployment), but latent risk if deployment model changes.

## Tech Debt

### Phase 4: Worker Foundation
- CORS headers deferred — hardcoded localhost value
- No wrangler.jsonc documentation of required production secrets
- No VERIFICATION.md (verifier disabled)
- Worker tsconfig uses relative path in types field

### Phase 5: Form Backend
- Turnstile test keys in .dev.vars need replacement for production
- PUBLIC_TURNSTILE_SITE_KEY uses test key — must update for production
- No VERIFICATION.md (verifier disabled)

**Total: 7 items across 2 phases**

## Summary

Phases 4 and 5 delivered a fully wired form-to-email pipeline: Worker routing, Resend email delivery, Turnstile spam protection, and proper loading/error/success UX. The E2E flow is confirmed working. However, 4/8 milestone requirements remain unsatisfied because Phases 6 (Analytics) and 7 (Content Polish) have not been planned or executed.

---
*Audit completed: 2026-02-23*
*Previous audit: 2026-02-22 (2/8 requirements — before Phase 5 execution)*
